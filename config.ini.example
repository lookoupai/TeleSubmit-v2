[BOT]
# Telegram Bot Token (从 @BotFather 获取)
TOKEN = your_bot_token_here

# 机器人用户名（用于生成购买深链，不要带 @）
# USERNAME = your_bot_username

# 频道 ID (格式: @channel_username 或 -100xxxxxxxxxx)
CHANNEL_ID = @your_channel

# 数据库文件路径
DB_PATH = data/submissions.db

# 会话超时时间（秒）
TIMEOUT = 300

# 允许的最大标签数量
ALLOWED_TAGS = 30

# 机器人所有者的 Telegram User ID
OWNER_ID = your_user_id

# 管理员 User ID 列表（逗号分隔，可选）
# 注意：OWNER_ID 会自动添加到管理员列表
# ADMIN_IDS = 123456789,987654321

# 是否在投稿中显示投稿人信息 (true/false)
SHOW_SUBMITTER = true

# 是否向所有者发送新投稿通知 (true/false)
NOTIFY_OWNER = true

# 机器人模式: MEDIA (仅媒体), DOCUMENT (仅文档), MIXED (混合模式), TEXT (仅文本), ALL (全部模式)
# TEXT: 仅允许纯文本投稿
# ALL: 用户可选择纯文本、媒体或文档投稿
BOT_MODE = ALL

# 是否允许纯文本投稿（默认 true）
TEXT_ONLY_MODE = true

# 默认投稿模式：TEXT/MEDIA/DOCUMENT（仅在 BOT_MODE = ALL 时作为默认值）
DEFAULT_SUBMIT_MODE = TEXT

# 纯文本投稿字数限制
MIN_TEXT_LENGTH = 10
MAX_TEXT_LENGTH = 4000

# 允许的文档类型（扩展名或MIME，逗号分隔），留空或 * 表示允许所有
ALLOWED_FILE_TYPES = *

# 运行模式: POLLING (轮询) | WEBHOOK (Webhook)
# - POLLING: 默认模式，机器人主动拉取消息，适合开发和小型部署
# - WEBHOOK: Telegram 推送消息到服务器，适合生产环境，更高效
RUN_MODE = POLLING

[WEBHOOK]
# Webhook 模式配置（仅当 BOT.RUN_MODE = WEBHOOK 时生效）

# 外部访问地址（必填，例如: https://your-app.fly.dev）
# 注意：必须是 HTTPS 且有效的域名
URL =

# Webhook 监听端口（默认 8080）
PORT = 8080

# Webhook 路径（默认 /webhook）
PATH = /webhook

# Webhook Secret Token（可选，用于验证请求来源）
# 留空则自动生成随机 token
SECRET_TOKEN =

[SEARCH]
# 搜索索引目录
INDEX_DIR = data/search_index

# 是否启用搜索
ENABLED = true

# 分词器：jieba | simple
# - jieba: 中文分词效果更好，但占用 ~20MB 词典内存
# - simple: 内存占用更低（推荐内存受限环境）
ANALYZER = jieba

# 搜索结果高亮：true|false（关闭可进一步减少开销）
HIGHLIGHT = false

[DB]
# SQLite page cache 大小（KB），影响内存占用
# 内存受限可设 1024（1MB），通常 1024~4096 即可
CACHE_SIZE_KB = 1024

[AI_REVIEW]
# AI 内容审核配置（使用 OpenAI 兼容 API）

# 是否启用 AI 审核
ENABLED = false

# OpenAI 兼容 API 地址（支持 OpenAI、Azure、本地部署等）
API_BASE_URL = https://api.openai.com/v1

# API 密钥
API_KEY = sk-xxx

# 使用的模型（推荐 gpt-4o-mini 性价比高）
MODEL = gpt-4o-mini

# API 超时时间（秒）
TIMEOUT = 30

# 最大重试次数
MAX_RETRIES = 2

# 频道主题描述（用于 AI 判断内容是否相关）
CHANNEL_TOPIC = 接码服务

# 主题关键词（逗号分隔，帮助 AI 更准确判断）
TOPIC_KEYWORDS = 接码,短信,验证码,SMS,号码,虚拟号,临时号

# 严格模式（true=内容必须高度相关才能通过）
STRICT_MODE = false

# 不相关内容自动拒绝
AUTO_REJECT = true

# 是否通知用户审核结果
NOTIFY_USER = true

# 审核结果缓存（相同内容不重复调用 API）
CACHE_ENABLED = true
CACHE_TTL_HOURS = 24

# API 失败时的降级策略: manual（转人工）| pass（直接通过）| reject（直接拒绝）
FALLBACK_ON_ERROR = manual

# 管理员通知
NOTIFY_ADMIN_ON_REJECT = true
NOTIFY_ADMIN_ON_DUPLICATE = true

[PAID_AD]
# 付费广告发布（UPAY_PRO）配置

# 是否启用付费广告功能
ENABLED = false

# 套餐（次数:金额），逗号分隔
PACKAGES = 1:10,15:100
CURRENCY = USDT
PUBLISH_PREFIX = 📢 广告

# UPAY_PRO 网关
UPAY_BASE_URL = http://127.0.0.1:8090
UPAY_SECRET_KEY = 
UPAY_DEFAULT_TYPE = USDT-TRC20
UPAY_ALLOWED_TYPES = USDT-TRC20,TRX,USDT-BSC,USDT-ERC20,USDT-Polygon

# 对外回调域名（默认复用 WEBHOOK.URL；Polling 模式如需回调请显式配置）
PUBLIC_BASE_URL =
UPAY_NOTIFY_PATH = /pay/notify/upay
UPAY_REDIRECT_PATH = /pay/return

# 订单过期（分钟）
PAY_EXPIRE_MINUTES = 30

[ADMIN_WEB]
# Web 管理后台（固定 token 登录）
ENABLED = false
PATH = /admin

# 固定访问 token（建议使用随机长字符串，支持多个 token 用逗号分隔）
# TOKEN =
# TOKENS = token1,token2

[SLOT_AD]
# 按钮广告位（slot_1..slot_N）配置

# 是否启用按钮广告位
ENABLED = false

# 最大可用行数（用于初始化/补齐 ad_slots 行；默认 20）
# MAX_ROWS = 20

# 默认启用行数（前 N 行；也可在 Web 后台热更新覆盖）
# ACTIVE_ROWS_COUNT = 20

# 租期套餐（天数:金额），逗号分隔
PLANS = 31:10,62:18

# 币种展示（默认复用 PAID_AD.CURRENCY）
# CURRENCY = USDT

[DUPLICATE_CHECK]
# 重复投稿检测配置

# 是否启用重复检测
ENABLED = false

# 检测时间窗口（天）- 在此时间内的投稿会被检查
CHECK_WINDOW_DAYS = 7

# 相似度阈值（0-1）- 超过此阈值认为是重复内容
SIMILARITY_THRESHOLD = 0.8

# 检测维度开关
CHECK_USER_ID = true
CHECK_URLS = true
CHECK_CONTACTS = true
CHECK_TG_LINKS = true
CHECK_USER_BIO = true
CHECK_CONTENT_HASH = true

# 自动拒绝重复投稿
AUTO_REJECT_DUPLICATE = true

# 通知用户重复原因
NOTIFY_USER_DUPLICATE = true

# 投稿频率限制
RATE_LIMIT_ENABLED = true
RATE_LIMIT_COUNT = 3
RATE_LIMIT_WINDOW_HOURS = 24

[RATING]
# 评分功能配置

# 是否启用评分功能
ENABLED = true

# 是否允许用户修改自己的评分（true/false）
ALLOW_UPDATE = true

# 按钮样式（预留，当前仅支持 stars）
BUTTON_STYLE = stars

# 达到多少条评分后，在统计/搜索中突出展示（预留）
MIN_VOTES_TO_HIGHLIGHT = 1

[CUSTOM_BUTTONS]
# 自定义按钮配置，用于在评分按钮下面追加多行自定义按钮
# 每一项代表一行，行内多个按钮用分号 ; 分隔，单个按钮格式为：文本|URL
#
# 示例（两列一行的布局）：
# ROW1 = 💬 联系客服|https://t.me/your_support ; 🤖 购买机器人|https://t.me/your_bot
# ROW2 = 📢 官方频道|https://t.me/your_channel

# 默认不启用任何自定义按钮，如需使用请取消注释并修改为自己的链接
# ROW1 = 💬 联系客服|https://t.me/your_support ; 🤖 购买机器人|https://t.me/your_bot
